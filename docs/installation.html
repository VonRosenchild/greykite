---
layout: default
---

<div class="section no-pad-bot" id="index-banner">
  <div class="container">
    <h3 style="color: #616161"><b>Installation</b></h3>
    <hr style="height: 1px; width: 100%; margin-left: 0; background-color: #616161; border-color: #616161">
    <h4>Python</h4>
    <hr style="width: 100%; margin-left: 0">
    <p>
      Greykite is currently available in Python, and has been tested on the following versions on Linux and MacOS:
      <li><u><a href="https://www.python.org/downloads/release/python-368/">Python 3.6.8</a></u></li>
      <li><u><a href="https://www.python.org/downloads/release/python-377/">Python 3.7.7</a></u></li>
      <li><u><a href="https://www.python.org/downloads/release/python-386/">Python 3.8.6</a></u></li>
    </p>
    <p>We recommend setting up python <u><a href="https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/#installing-virtualenv">virtual environment</a></u>
    with the proper python version (e.g. 3.7.7) and install greykite.</p>

    <p>Greykite is available on <u><a href="https://pypi.org/project/greykite/">PyPI</a></u>, so you can install via</p>
    <p style="text-indent: 2rem"><code class="greykite-code-block">pip install greykite</code></p>
    <p>or</p>
    <p style="text-indent: 2rem"><code class="greykite-code-block">python -m pip install greykite</code></p>
    <br>
    <h4>FAQs</h4>
    <hr style="width: 100%; margin-left: 0">
    <h5>Linux</h5>
      <ol>
        <li>
          <p>After installation, I see the following error during imports:</p>
          <pre><code class="greykite-code-block">Traceback (most recent call last):
  File "/home/kayang/test_pypi/env377/lib/python3.7/site-packages/pandas/io/common.py", line 3, in &ltmodule&gt
  import bz2
  File "/usr/local/lib/python3.7/bz2.py", line 19, in &ltmodule&gt
  from _bz2 import BZ2Compressor, BZ2Decompressor
  ModuleNotFoundError: No module named '_bz2'</code></pre>
          <p>This is probably because you build python from source, and you haven't installed the <code class="greykite-code-block-in-line">bz2</code> library
            when building python. In this case, you need to</p>
            <ol type="a">
              <li>install the <code class="greykite-code-block-in-line">bz2</code> library
                <ol type="i">
                  <li>Ubuntu/Debian: <code class="greykite-code-block-in-line">sudo apt-get install libbz2-dev</code></li>
                  <li>Fedora/CentOS/RedHat: <code class="greykite-code-block-in-line">sudo yum install bzip2-devel</code></li>
                </ol>
              </li>
              <li>reinstall python and greykite.</li>
            </ol>
        </li>
        <li>
          <p>After installation, I see the following error when trying to open jupyter notebook:</p>
          <pre><code class="greykite-code-block">ModuleNotFoundError: No module named '_sqlite3'
  ModuleNotFoundError: No module named 'pysqlite2'</code></pre>
          <p>This is probably because you build python from source, and you haven't installed the <code class="greykite-code-block-in-line">sqlite</code> library
            when building python. In this case, you need to</p>
          <ol type="a">
            <li>install the <code class="greykite-code-block-in-line">sqlite</code> library
              <ol type="i">
                <li>Ubuntu/Debian: <code class="greykite-code-block-in-line">sudo apt-get install libsqlite-dev</code></li>
                <li>Fedora/CentOS/RedHat: <code class="greykite-code-block-in-line">sudo yum install sqlite-devel</code></li>
              </ol>
            </li>
            <li>reinstall python and greykite.</li>
          </ol>
        </li>
        <li>
          <p>After installation, when I try to open jupyter notebook, it takes forever to connect to kernel.</p>
          <p>This is likely because tornado 6.0 breaks notebook. In this case, you need to</p>
          <ol type="a">
            <li>uninstall tornado: <code class="greykite-code-block-in-line">pip uninstall tornado</code>.
            </li>
            <li>install tornado 5.*: <code class="greykite-code-block-in-line">pip install tornado==5.1.1</code>.</li>
          </ol>
        </li>
      </ol>

    <h5>MacOS</h5>
    <ol>
      <li>
        <p>During installation, I see the following error:</p>
        <pre><code class="greykite-code-block">RuntimeError: Found /usr/lib/libcblas.dylib, but that file is a symbolic link to the MacOS Accelerate framework,
  which is not supported by NumPy. You must configure the build to use a different optimized library, or disable
  the use of optimized BLAS and LAPACK by setting the environment variables NPY_BLAS_ORDER="" and NPY_LAPACK_ORDER=""
  before building NumPy.</code></pre>
        <p>This is because Numpy no longer supports MacOS accelerated framework. In this case, you need to</p>
        <ol type="a">
          <li>install the openblas library: <code class="greykite-code-block-in-line">brew install openblas</code>.
          </li>
          <li>reinstall greykite with the brew-installed openblas: <code class="greykite-code-block-in-line">OPENBLAS="$(brew --prefix openblas)" pip install greykite</code>.</li>
        </ol>
      </li>
      <li>
        <p>After installation, when I try to open jupyter notebook, it takes forever to connect to kernel.</p>
        <p>This is likely because tornado 6.0 breaks notebook. In this case, you need to</p>
        <ol type="a">
          <li>uninstall tornado: <code class="greykite-code-block-in-line">pip uninstall tornado</code>.
          </li>
          <li>install tornado 5.*: <code class="greykite-code-block-in-line">pip install tornado==5.1.1</code>.</li>
        </ol>
      </li>
      <li>
        <p>After installation, during imports, I see the following error with <code class="greykite-code-block-in-line">matplotlib</code>:</p>
        <pre><code class="greykite-code-block">E   ImportError: Python is not installed as a framework. The Mac OS X backend will not be able to function correctly
 if Python is not installed as a framework. See the Python documentation for more information on installing Python as
 a framework on Mac OS X. Please either reinstall Python as a framework, or try one of the other backends. If you are
 using (Ana)Conda please install python.app and replace the use of 'python' with 'pythonw'. See 'Working with Matplotlib
 on OSX' in the Matplotlib FAQ for more information.</code></pre>
        <p>This is because python is not properly installed as a fraemwork. In this case, you can reinstall python properly, or you can switch the backend</p>
        <ol type="a">
          <li>create the profile <code class="greykite-code-block-in-line">vim ~/.matplotlib/matplotlibrc</code>.
          </li>
          <li>specify the backend TkAgg by adding the following to the profile: <code class="greykite-code-block-in-line">backend: TkAgg</code>.</li>
        </ol>
      </li>
      <li>
        <p>After installation, during imports, I see the following error with <code class="greykite-code-block-in-line">matplotlib</code>:</p>
        <pre><code class="greykite-code-block">E   ModuleNotFoundError: No module named '_tkinter'</code></pre>
        <p>This is because python is not properly installed as a fraemwork. In this case, you can reinstall python properly, or you can switch the backend</p>
        <ol type="a">
          <li>create the profile <code class="greykite-code-block-in-line">vim ~/.matplotlib/matplotlibrc</code>.
          </li>
          <li>specify the backend Agg by adding the following to the profile: <code class="greykite-code-block-in-line">backend: agg</code>.</li>
        </ol>
      </li>
    </ol>
    <br><br>
  </div>
</div>
